{"version":3,"sources":["components/Pagination/Pagination.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Header/Header.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ButtonImgLimit/ButtonImgLimit.module.css","Api/picsumApi.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/ButtonImgLimit/ButtonImgLimit.js","components/Header/Header.js","components/Pagination/Pagination.js","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["module","exports","fetchQuery","page","limitImagesList","fetch","then","res","json","ImageGalleryItem","webformatURL","tags","add","id","btnName","toggleModal","bigImg","className","s","src","alt","ImageGalleryItemImage","onClick","btnGalleryImg","ImageGallery","query","map","el","author","ButtonImgLimit","limit","Button","type","Header","statusChange","headerNav","headerName","Pagination","nexPage","prewPage","pagination","button","active","modalRoot","document","querySelector","Modal","closeModal","modalImg","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","console","log","createPortal","Overlay","event","target","currentTarget","img","App","favouriteImgStorage","localStorage","getItem","parsedFavourite","JSON","parse","useState","setQuery","setPage","setLimitImagesList","favouriteImg","setFavouriteImg","status","setStatus","statusButtonImgLimit","setStatusButtonImgLimit","showModal","setShowModal","setModalImg","picsumApi","setItem","stringify","newLimitImg","FindmodalImg","addImg","change","some","updateFavourite","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a8b225bc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2x_co\",\"paginationArrow\":\"Pagination_paginationArrow__K_NdX\",\"active\":\"Pagination_active__1kZ8A\",\"button\":\"Pagination_button__3MCEX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__YMTHS\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__hHBgz\",\"btnGalleryImg\":\"ImageGalleryItem_btnGalleryImg__3ECRg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerNav\":\"Header_headerNav__2m1KB\",\"headerName\":\"Header_headerName__2vWhH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1IM5I\",\"Modal\":\"Modal_Modal__2kjDi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1BeSQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ButtonImgLimit_Button__jCUqG\"};","const BASE_URL = 'https://picsum.photos';\r\n\r\nfunction fetchQuery(page, limitImagesList) {\r\n  return fetch(\r\n    `${BASE_URL}/v2/list?page=${page}&limit=${limitImagesList}`,\r\n  ).then(res => res.json());\r\n}\r\n\r\nexport default fetchQuery;\r\n","import PropTypes from 'prop-types';\r\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  tags,\r\n  add,\r\n  id,\r\n  btnName,\r\n  toggleModal,\r\n  bigImg,\r\n}) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={`https://picsum.photos/id/${webformatURL}/300/300`}\r\n        alt={tags}\r\n        className={s.ImageGalleryItemImage}\r\n        onClick={() => {\r\n          toggleModal();\r\n          bigImg();\r\n        }}\r\n      />\r\n      <button\r\n        className={s.btnGalleryImg}\r\n        onClick={() =>\r\n          add(id, `https://picsum.photos/id/${webformatURL}/300/300`, tags)\r\n        }\r\n      >\r\n        {btnName}\r\n      </button>\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ query, add, btnName, toggleModal, bigImg }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {query.map(el => (\r\n        <ImageGalleryItem\r\n          key={el.id}\r\n          webformatURL={el.id}\r\n          tags={el.author}\r\n          add={add}\r\n          id={el.id}\r\n          btnName={btnName}\r\n          toggleModal={() => toggleModal()}\r\n          bigImg={() =>\r\n            bigImg(el.id, `https://picsum.photos/id/${el.id}/1200/1200`, el.tags)\r\n          }\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  query: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string,\r\n      tags: PropTypes.string,\r\n      webformatURL: PropTypes.string,\r\n    }),\r\n  ),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport s from 'components/ButtonImgLimit/ButtonImgLimit.module.css';\r\n\r\nfunction ButtonImgLimit({ onClick, limit }) {\r\n  return (\r\n    <button className={s.Button} type=\"button\" onClick={() => onClick(limit)}>\r\n      Change list on {limit}\r\n    </button>\r\n  );\r\n}\r\n\r\nButtonImgLimit.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  limit: PropTypes.number,\r\n};\r\n\r\nexport default ButtonImgLimit;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport s from 'components/Header/Header.module.css';\r\n\r\nfunction Header({ statusChange }) {\r\n  return (\r\n    <nav className={s.headerNav}>\r\n      <button className={s.headerName} onClick={() => statusChange('Home')}>\r\n        Home\r\n      </button>\r\n      <button\r\n        className={s.headerName}\r\n        onClick={() => statusChange('Favourite')}\r\n      >\r\n        Favourite\r\n      </button>\r\n    </nav>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  statusChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Header;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport s from 'components/Pagination/Pagination.module.css';\r\n\r\nfunction Pagination({ page, nexPage, prewPage }) {\r\n  return (\r\n    <div className={s.pagination}>\r\n      <button onClick={() => prewPage(page)} className={s.button}>\r\n        «\r\n      </button>\r\n      <p className={s.active}>{page}</p>\r\n      <button onClick={() => nexPage(page)} className={s.button}>\r\n        »\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nPagination.propTypes = {\r\n  nexPage: PropTypes.func.isRequired,\r\n  prewPage: PropTypes.func.isRequired,\r\n  page: PropTypes.number,\r\n};\r\n\r\nexport default Pagination;\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from 'components/Modal/Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ closeModal, modalImg }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('click');\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const backDropClick = event => {\r\n    if (event.target === event.currentTarget) {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={backDropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={modalImg.img} alt={modalImg.tags} key={modalImg.id} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  modalImg: PropTypes.object,\r\n};\r\n","import './App.css';\nimport React, { useState, useEffect } from 'react';\n\nimport picsumApi from 'Api/picsumApi';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport ButtonImgLimit from 'components/ButtonImgLimit/ButtonImgLimit';\nimport Header from 'components/Header/Header';\nimport Pagination from 'components/Pagination/Pagination';\nimport Modal from 'components/Modal/Modal';\n\n\nfunction App() {\n  const favouriteImgStorage = localStorage.getItem('favouriteImg');\n  const parsedFavourite = JSON.parse(favouriteImgStorage);\n  // console.log('parsedFavourite', parsedFavourite);\n\n  const [query, setQuery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [limitImagesList, setLimitImagesList] = useState(20);\n  const [favouriteImg, setFavouriteImg] = useState(parsedFavourite || []);\n  const [status, setStatus] = useState('Home');\n  const [statusButtonImgLimit, setStatusButtonImgLimit] = useState(20);\n  const [showModal, setShowModal] = useState(false);\n  const [modalImg, setModalImg] = useState(null);\n\n  useEffect(() => {\n    picsumApi(page, limitImagesList).then(query => setQuery(query));\n  }, [page, limitImagesList]);\n\n  useEffect(() => {\n    localStorage.setItem('favouriteImg', JSON.stringify(favouriteImg));\n  }, [favouriteImg]);\n\n  const newLimitImg = limit => {\n    setLimitImagesList(limit);\n    setStatusButtonImgLimit(limit);\n  };\n\n  const add = (id, addImg, alt) => {\n    const checker = favouriteImg.some(el => el.id === id);\n    if (checker === true) return;\n    const updateFavourite = { id: id, img: addImg, author: alt };\n    setFavouriteImg([...favouriteImg, updateFavourite]);\n  };\n\n  const remove = (id, addImg, alt) => {\n    setFavouriteImg(favouriteImg.filter(el => el.id !== id));\n  };\n\n  const statusChange = change => {\n    setStatus(change);\n  };\n\n  const nexPage = page => {\n    if (page === 25) return;\n    setPage(page + 1);\n  };\n  const prewPage = page => {\n    if (page === 1) return;\n    setPage(page - 1);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const FindmodalImg = (id, addImg, alt) => {\n    setModalImg({ id: id, img: addImg, author: alt });\n  };\n\n  return (\n    <div className=\"App\">\n      <Header statusChange={statusChange} />\n      {status === 'Home' && (\n        <>\n          <ImageGallery\n            query={query}\n            add={add}\n            btnName={'add'}\n            toggleModal={toggleModal}\n            bigImg={FindmodalImg}\n          />\n          {statusButtonImgLimit === 40 && (\n            <ButtonImgLimit onClick={newLimitImg} limit={20} />\n          )}\n          {statusButtonImgLimit === 20 && (\n            <ButtonImgLimit onClick={newLimitImg} limit={40} />\n          )}\n\n          <Pagination page={page} nexPage={nexPage} prewPage={prewPage} />\n        </>\n      )}\n      {status === 'Favourite' && (\n        <ImageGallery\n          query={favouriteImg}\n          add={remove}\n          btnName={'remove'}\n          toggleModal={toggleModal}\n          bigImg={FindmodalImg}\n        />\n      )}\n      {showModal && <Modal closeModal={toggleModal} modalImg={modalImg} />}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}