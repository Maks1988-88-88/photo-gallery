(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],[,,,,function(e,t,a){e.exports={pagination:"Pagination_pagination__2x_co",paginationArrow:"Pagination_paginationArrow__K_NdX",active:"Pagination_active__1kZ8A",button:"Pagination_button__3MCEX"}},,,function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__YMTHS",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__hHBgz",btnGalleryImg:"ImageGalleryItem_btnGalleryImg__3ECRg"}},function(e,t,a){e.exports={headerNav:"Header_headerNav__2m1KB",headerName:"Header_headerName__2vWhH"}},,function(e,t,a){e.exports={Overlay:"Modal_Overlay__1IM5I",Modal:"Modal_Modal__2kjDi"}},function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1BeSQ"}},function(e,t,a){e.exports={Button:"ButtonImgLimit_Button__jCUqG"}},,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(5),r=a.n(o),i=(a(18),a(19),a(13)),l=a(2);a(20);var s=function(e,t){return fetch("".concat("https://picsum.photos","/v2/list?page=").concat(e,"&limit=").concat(t)).then((function(e){return e.json()}))},u=a(11),m=a.n(u),d=a(7),g=a.n(d),j=a(0);function b(e){var t=e.webformatURL,a=e.tags,n=e.add,c=e.id,o=e.btnName,r=e.toggleModal,i=e.bigImg;return Object(j.jsxs)("li",{className:g.a.ImageGalleryItem,children:[Object(j.jsx)("img",{src:"https://picsum.photos/id/".concat(t,"/300/300"),alt:a,className:g.a.ImageGalleryItemImage,onClick:function(){r(),i()}}),Object(j.jsx)("button",{className:g.a.btnGalleryImg,onClick:function(){return n(c,"https://picsum.photos/id/".concat(t,"/300/300"),a)},children:o})]})}var f=function(e){var t=e.query,a=e.add,n=e.btnName,c=e.toggleModal,o=e.bigImg;return Object(j.jsx)("ul",{className:m.a.ImageGallery,children:t.map((function(e){return Object(j.jsx)(b,{webformatURL:e.id,tags:e.author,add:a,id:e.id,btnName:n,toggleModal:function(){return c()},bigImg:function(){return o(e.id,"https://picsum.photos/id/".concat(e.id,"/1200/1200"),e.tags)}},e.id)}))})},O=a(12),h=a.n(O);var I=function(e){var t=e.onClick,a=e.limit;return Object(j.jsxs)("button",{className:h.a.Button,type:"button",onClick:function(){return t(a)},children:["Change list on ",a]})},p=a(8),v=a.n(p);var _=function(e){var t=e.statusChange;return Object(j.jsxs)("nav",{className:v.a.headerNav,children:[Object(j.jsx)("button",{className:v.a.headerName,onClick:function(){return t("Home")},children:"Home"}),Object(j.jsx)("button",{className:v.a.headerName,onClick:function(){return t("Favourite")},children:"Favourite"})]})},x=a(4),y=a.n(x);var N=function(e){var t=e.page,a=e.nexPage,n=e.prewPage;return Object(j.jsxs)("div",{className:y.a.pagination,children:[Object(j.jsx)("button",{onClick:function(){return n(t)},className:y.a.button,children:"\xab"}),Object(j.jsx)("p",{className:y.a.active,children:t}),Object(j.jsx)("button",{onClick:function(){return a(t)},className:y.a.button,children:"\xbb"})]})},k=a(10),C=a.n(k),G=document.querySelector("#modal-root");function M(e){var t=e.closeModal,a=e.modalImg;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(j.jsx)("div",{className:C.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(j.jsx)("div",{className:C.a.Modal,children:Object(j.jsx)("img",{src:a.img,alt:a.tags},a.id)})}),G)}var S=function(){var e=localStorage.getItem("favouriteImg"),t=JSON.parse(e),a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],r=c[1],u=Object(n.useState)(1),m=Object(l.a)(u,2),d=m[0],g=m[1],b=Object(n.useState)(20),O=Object(l.a)(b,2),h=O[0],p=O[1],v=Object(n.useState)(t||[]),x=Object(l.a)(v,2),y=x[0],k=x[1],C=Object(n.useState)("Home"),G=Object(l.a)(C,2),S=G[0],w=G[1],E=Object(n.useState)(20),H=Object(l.a)(E,2),P=H[0],B=H[1],q=Object(n.useState)(!1),L=Object(l.a)(q,2),A=L[0],F=L[1],J=Object(n.useState)(null),R=Object(l.a)(J,2),U=R[0],K=R[1];Object(n.useEffect)((function(){s(d,h).then((function(e){return r(e)}))}),[d,h]),Object(n.useEffect)((function(){localStorage.setItem("favouriteImg",JSON.stringify(y))}),[y]);var T=function(e){p(e),B(e)},X=function(){F(!A)},z=function(e,t,a){K({id:e,img:t,author:a})};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(_,{statusChange:function(e){w(e)}}),"Home"===S&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{query:o,add:function(e,t,a){if(!0!==y.some((function(t){return t.id===e}))){var n={id:e,img:t,author:a};k([].concat(Object(i.a)(y),[n]))}},btnName:"add",toggleModal:X,bigImg:z}),40===P&&Object(j.jsx)(I,{onClick:T,limit:20}),20===P&&Object(j.jsx)(I,{onClick:T,limit:40}),Object(j.jsx)(N,{page:d,nexPage:function(e){25!==e&&g(e+1)},prewPage:function(e){1!==e&&g(e-1)}})]}),"Favourite"===S&&Object(j.jsx)(f,{query:y,add:function(e,t,a){k(y.filter((function(t){return t.id!==e})))},btnName:"remove",toggleModal:X,bigImg:z}),A&&Object(j.jsx)(M,{closeModal:X,modalImg:U})]})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.4d1a21c5.chunk.js.map